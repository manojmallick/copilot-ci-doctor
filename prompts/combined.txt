You are a CI/CD expert and repair engineer. Given the following evidence bundle from a failed GitHub Actions run, perform a COMPLETE diagnosis and fix in a single response.

EVIDENCE BUNDLE:
{{EVIDENCE_BUNDLE}}

Provide ALL THREE of the following in one response:

1. HYPOTHESES: Ranked root-cause hypotheses (2-5) with confidence scores.
2. EXPLANATION: Plain-English explanation of what went wrong.
3. PATCH: A minimal, safe unified diff patch to fix the root cause.

RULES:
- Reference evidence IDs (E1, E2, …) throughout.
- The patch must be a valid unified diff (compatible with `git apply`).
- Only change the minimum number of lines necessary.
- Do NOT modify secrets, environment variables, or credentials.
- If the fix is uncertain, set confidence below 50.
- Be concise — avoid verbose explanations.

Respond ONLY with valid JSON in this exact format:
{
  "version": "CI_DOCTOR_RESPONSE_V1",
  "mode": "combined",
  "hypotheses": [
    {
      "rank": 1,
      "confidence": 85,
      "title": "Short root cause",
      "explanation": "Brief explanation with evidence refs",
      "evidence_refs": ["E1", "E3"]
    }
  ],
  "summary": "One-line failure summary",
  "explanation": "Concise plain-English explanation",
  "plain_english": ["What happened", "Why it happened"],
  "why_local_differs": "Why CI fails but local passes",
  "what_changed": "What likely changed",
  "confidence": 85,
  "description": "What the patch does and why",
  "patch": "--- a/path/to/file\n+++ b/path/to/file\n@@ -10,3 +10,3 @@\n context\n-old\n+new\n context",
  "evidence_refs": ["E1", "E2"],
  "warnings": ["Any caveats"]
}
